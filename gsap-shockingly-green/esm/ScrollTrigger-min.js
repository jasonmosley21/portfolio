/*!
 * ScrollTrigger 3.11.3
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/
import{Observer,_getTarget,_vertical,_horizontal,_scrollers,_proxies,_getScrollFunc,_getProxyProp,_getVelocityProp}from"./Observer.js";var gsap,_coreInitted,_win,_doc,_docEl,_body,_root,_resizeDelay,_toArray,_clamp,_time2,_syncInterval,_refreshing,_pointerIsDown,_transformProp,_i,_prevWidth,_prevHeight,_autoRefresh,_sort,_suppressOverwrites,_ignoreResize,_normalizer,_ignoreMobileResize,_baseScreenHeight,_baseScreenWidth,_fixIOSBug,_context,_scrollRestoration,_limitCallbacks,_rafID,_refreshingAll,_queueRefreshID,_primary,_startup=1,_getTime=Date.now,_time1=_getTime(),_lastScrollTime=0,_enabled=0,_pointerDownHandler=function(){return _pointerIsDown=1},_pointerUpHandler=function(){return _pointerIsDown=0},_passThrough=function(e){return e},_round=function(e){return Math.round(1e5*e)/1e5||0},_windowExists=function(){return"undefined"!=typeof window},_getGSAP=function(){return gsap||_windowExists()&&(gsap=window.gsap)&&gsap.registerPlugin&&gsap},_isViewport=function(e){return!!~_root.indexOf(e)},_getBoundsFunc=function(e){return _getProxyProp(e,"getBoundingClientRect")||(_isViewport(e)?function(){return _winOffsets.width=_win.innerWidth,_winOffsets.height=_win.innerHeight,_winOffsets}:function(){return _getBounds(e)})},_getSizeFunc=function(e,r,t){var n=t.d,i=t.d2,o=t.a;return(o=_getProxyProp(e,"getBoundingClientRect"))?function(){return o()[n]}:function(){return(r?_win["inner"+i]:e["client"+i])||0}},_getOffsetsFunc=function(e,r){return!r||~_proxies.indexOf(e)?_getBoundsFunc(e):function(){return _winOffsets}},_maxScroll=function(e,r){var t=r.s,n=r.d2,i=r.d,o=r.a;return(t="scroll"+n)&&(o=_getProxyProp(e,t))?o()-_getBoundsFunc(e)()[i]:_isViewport(e)?(_docEl[t]||_body[t])-(_win["inner"+n]||_docEl["client"+n]||_body["client"+n]):e[t]-e["offset"+n]},_iterateAutoRefresh=function(e,r){for(var t=0;t<_autoRefresh.length;t+=3)(!r||~r.indexOf(_autoRefresh[t+1]))&&e(_autoRefresh[t],_autoRefresh[t+1],_autoRefresh[t+2])},_isString=function(e){return"string"==typeof e},_isFunction=function(e){return"function"==typeof e},_isNumber=function(e){return"number"==typeof e},_isObject=function(e){return"object"==typeof e},_callIfFunc=function(e){return _isFunction(e)&&e()},_combineFunc=function(e,r){return function(){var t=_callIfFunc(e),n=_callIfFunc(r);return function(){_callIfFunc(t),_callIfFunc(n)}}},_endAnimation=function(e,r,t){return e&&e.progress(r?0:1)&&t&&e.pause()},_callback=function(e,r){if(e.enabled){var t=r(e);t&&t.totalTime&&(e.callbackAnimation=t)}},_abs=Math.abs,_scrollLeft="scrollLeft",_scrollTop="scrollTop",_left="left",_top="top",_right="right",_bottom="bottom",_width="width",_height="height",_Right="Right",_Left="Left",_Top="Top",_Bottom="Bottom",_padding="padding",_margin="margin",_Width="Width",_Height="Height",_px="px",_getComputedStyle=function(e){return _win.getComputedStyle(e)},_makePositionable=function(e){var r=_getComputedStyle(e).position;e.style.position="absolute"===r||"fixed"===r?r:"relative"},_setDefaults=function(e,r){for(var t in r)t in e||(e[t]=r[t]);return e},_getBounds=function(e,r){var t=r&&"matrix(1, 0, 0, 1, 0, 0)"!==_getComputedStyle(e)[_transformProp]&&gsap.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),n=e.getBoundingClientRect();return t&&t.progress(0).kill(),n},_getSize=function(e,r){var t=r.d2;return e["offset"+t]||e["client"+t]||0},_getLabelRatioArray=function(e){var r,t=[],n=e.labels,i=e.duration();for(r in n)t.push(n[r]/i);return t},_getClosestLabel=function(e){return function(r){return gsap.utils.snap(_getLabelRatioArray(e),r)}},_snapDirectional=function(e){var r=gsap.utils.snap(e),t=Array.isArray(e)&&e.slice(0).sort((function(e,r){return e-r}));return t?function(e,n,i){var o;if(void 0===i&&(i=.001),!n)return r(e);if(n>0){for(e-=i,o=0;o<t.length;o++)if(t[o]>=e)return t[o];return t[o-1]}for(o=t.length,e+=i;o--;)if(t[o]<=e)return t[o];return t[0]}:function(t,n,i){void 0===i&&(i=.001);var o=r(t);return!n||Math.abs(o-t)<i||o-t<0==n<0?o:r(n<0?t-e:t+e)}},_getLabelAtDirection=function(e){return function(r,t){return _snapDirectional(_getLabelRatioArray(e))(r,t.direction)}},_multiListener=function(e,r,t,n){return t.split(",").forEach((function(t){return e(r,t,n)}))},_addListener=function(e,r,t,n,i){return e.addEventListener(r,t,{passive:!n,capture:!!i})},_removeListener=function(e,r,t,n){return e.removeEventListener(r,t,!!n)},_wheelListener=function(e,r,t){return t&&t.wheelHandler&&e(r,"wheel",t)},_markerDefaults={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},_defaults={toggleActions:"play",anticipatePin:0},_keywords={top:0,left:0,center:.5,bottom:1,right:1},_offsetToPx=function(e,r){if(_isString(e)){var t=e.indexOf("="),n=~t?+(e.charAt(t-1)+1)*parseFloat(e.substr(t+1)):0;~t&&(e.indexOf("%")>t&&(n*=r/100),e=e.substr(0,t-1)),e=n+(e in _keywords?_keywords[e]*r:~e.indexOf("%")?parseFloat(e)*r/100:parseFloat(e)||0)}return e},_createMarker=function(e,r,t,n,i,o,s,a){var l=i.startColor,_=i.endColor,c=i.fontSize,u=i.indent,g=i.fontWeight,p=_doc.createElement("div"),d=_isViewport(t)||"fixed"===_getProxyProp(t,"pinType"),f=-1!==e.indexOf("scroller"),h=d?_body:t,m=-1!==e.indexOf("start"),v=m?l:_,S="border-color:"+v+";font-size:"+c+";color:"+v+";font-weight:"+g+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return S+="position:"+((f||a)&&d?"fixed;":"absolute;"),(f||a||!d)&&(S+=(n===_vertical?_right:_bottom)+":"+(o+parseFloat(u))+"px;"),s&&(S+="box-sizing:border-box;text-align:left;width:"+s.offsetWidth+"px;"),p._isStart=m,p.setAttribute("class","gsap-marker-"+e+(r?" marker-"+r:"")),p.style.cssText=S,p.innerText=r||0===r?e+"-"+r:e,h.children[0]?h.insertBefore(p,h.children[0]):h.appendChild(p),p._offset=p["offset"+n.op.d2],_positionMarker(p,0,n,m),p},_positionMarker=function(e,r,t,n){var i={display:"block"},o=t[n?"os2":"p2"],s=t[n?"p2":"os2"];e._isFlipped=n,i[t.a+"Percent"]=n?-100:0,i[t.a]=n?"1px":0,i["border"+o+_Width]=1,i["border"+s+_Width]=0,i[t.p]=r+"px",gsap.set(e,i)},_triggers=[],_ids={},_sync=function(){return _getTime()-_lastScrollTime>34&&(_rafID||(_rafID=requestAnimationFrame(_updateAll)))},_onScroll=function(){(!_normalizer||!_normalizer.isPressed||_normalizer.startX>_body.clientWidth)&&(_scrollers.cache++,_normalizer?_rafID||(_rafID=requestAnimationFrame(_updateAll)):_updateAll(),_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime())},_setBaseDimensions=function(){_baseScreenWidth=_win.innerWidth,_baseScreenHeight=_win.innerHeight},_onResize=function(){_scrollers.cache++,!_refreshing&&!_ignoreResize&&!_doc.fullscreenElement&&!_doc.webkitFullscreenElement&&(!_ignoreMobileResize||_baseScreenWidth!==_win.innerWidth||Math.abs(_win.innerHeight-_baseScreenHeight)>.25*_win.innerHeight)&&_resizeDelay.restart(!0)},_listeners={},_emptyArray=[],_softRefresh=function e(){return _removeListener(ScrollTrigger,"scrollEnd",e)||_refreshAll(!0)},_dispatch=function(e){return _listeners[e]&&_listeners[e].map((function(e){return e()}))||_emptyArray},_savedStyles=[],_revertRecorded=function(e){for(var r=0;r<_savedStyles.length;r+=5)(!e||_savedStyles[r+4]&&_savedStyles[r+4].query===e)&&(_savedStyles[r].style.cssText=_savedStyles[r+1],_savedStyles[r].getBBox&&_savedStyles[r].setAttribute("transform",_savedStyles[r+2]||""),_savedStyles[r+3].uncache=1)},_revertAll=function(e,r){var t;for(_i=0;_i<_triggers.length;_i++)!(t=_triggers[_i])||r&&t._ctx!==r||(e?t.kill(1):t.revert(!0,!0));r&&_revertRecorded(r),r||_dispatch("revert")},_clearScrollMemory=function(e,r){_scrollers.cache++,(r||!_refreshingAll)&&_scrollers.forEach((function(e){return _isFunction(e)&&e.cacheID++&&(e.rec=0)})),_isString(e)&&(_win.history.scrollRestoration=_scrollRestoration=e)},_refreshID=0,_queueRefreshAll=function(){if(_queueRefreshID!==_refreshID){var e=_queueRefreshID=_refreshID;requestAnimationFrame((function(){return e===_refreshID&&_refreshAll(!0)}))}},_refreshAll=function(e,r){if(!_lastScrollTime||e){_refreshingAll=ScrollTrigger.isRefreshing=!0,_scrollers.forEach((function(e){return _isFunction(e)&&e.cacheID++&&(e.rec=e())}));var t=_dispatch("refreshInit");_sort&&ScrollTrigger.sort(),r||_revertAll(),_scrollers.forEach((function(e){_isFunction(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))})),_triggers.slice(0).forEach((function(e){return e.refresh()})),_triggers.forEach((function(e,r){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.revert(!1,1)}})),_triggers.forEach((function(e){return"max"===e.vars.end&&e.setPositions(e.start,Math.max(e.start+1,_maxScroll(e.scroller,e._dir)))})),t.forEach((function(e){return e&&e.render&&e.render(-1)})),_scrollers.forEach((function(e){_isFunction(e)&&(e.smooth&&requestAnimationFrame((function(){return e.target.style.scrollBehavior="smooth"})),e.rec&&e(e.rec))})),_clearScrollMemory(_scrollRestoration,1),_resizeDelay.pause(),_refreshID++,_updateAll(2),_triggers.forEach((function(e){return _isFunction(e.vars.onRefresh)&&e.vars.onRefresh(e)})),_refreshingAll=ScrollTrigger.isRefreshing=!1,_dispatch("refresh")}else _addListener(ScrollTrigger,"scrollEnd",_softRefresh)},_lastScroll=0,_direction=1,_updateAll=function(e){if(!_refreshingAll||2===e){ScrollTrigger.isUpdating=!0,_primary&&_primary.update(0);var r=_triggers.length,t=_getTime(),n=t-_time1>=50,i=r&&_triggers[0].scroll();if(_direction=_lastScroll>i?-1:1,_lastScroll=i,n&&(_lastScrollTime&&!_pointerIsDown&&t-_lastScrollTime>200&&(_lastScrollTime=0,_dispatch("scrollEnd")),_time2=_time1,_time1=t),_direction<0){for(_i=r;_i-- >0;)_triggers[_i]&&_triggers[_i].update(0,n);_direction=1}else for(_i=0;_i<r;_i++)_triggers[_i]&&_triggers[_i].update(0,n);ScrollTrigger.isUpdating=!1}_rafID=0},_propNamesToCopy=[_left,_top,_bottom,_right,_margin+_Bottom,_margin+_Right,_margin+_Top,_margin+_Left,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],_stateProps=_propNamesToCopy.concat([_width,_height,"boxSizing","max"+_Width,"max"+_Height,"position",_margin,_padding,_padding+_Top,_padding+_Right,_padding+_Bottom,_padding+_Left]),_swapPinOut=function(e,r,t){_setState(t);var n=e._gsap;if(n.spacerIsNative)_setState(n.spacerState);else if(e._gsap.swappedIn){var i=r.parentNode;i&&(i.insertBefore(e,r),i.removeChild(r))}e._gsap.swappedIn=!1},_swapPinIn=function(e,r,t,n){if(!e._gsap.swappedIn){for(var i,o=_propNamesToCopy.length,s=r.style,a=e.style;o--;)s[i=_propNamesToCopy[o]]=t[i];s.position="absolute"===t.position?"absolute":"relative","inline"===t.display&&(s.display="inline-block"),a[_bottom]=a[_right]="auto",s.flexBasis=t.flexBasis||"auto",s.overflow="visible",s.boxSizing="border-box",s[_width]=_getSize(e,_horizontal)+_px,s[_height]=_getSize(e,_vertical)+_px,s[_padding]=a[_margin]=a[_top]=a[_left]="0",_setState(n),a[_width]=a["max"+_Width]=t[_width],a[_height]=a["max"+_Height]=t[_height],a[_padding]=t[_padding],e.parentNode!==r&&(e.parentNode.insertBefore(r,e),r.appendChild(e)),e._gsap.swappedIn=!0}},_capsExp=/([A-Z])/g,_setState=function(e){if(e){var r,t,n=e.t.style,i=e.length,o=0;for((e.t._gsap||gsap.core.getCache(e.t)).uncache=1;o<i;o+=2)t=e[o+1],r=e[o],t?n[r]=t:n[r]&&n.removeProperty(r.replace(_capsExp,"-$1").toLowerCase())}},_getState=function(e){for(var r=_stateProps.length,t=e.style,n=[],i=0;i<r;i++)n.push(_stateProps[i],t[_stateProps[i]]);return n.t=e,n},_copyState=function(e,r,t){for(var n,i=[],o=e.length,s=t?8:0;s<o;s+=2)n=e[s],i.push(n,n in r?r[n]:e[s+1]);return i.t=e.t,i},_winOffsets={left:0,top:0},_parsePosition=function(e,r,t,n,i,o,s,a,l,_,c,u,g){_isFunction(e)&&(e=e(a)),_isString(e)&&"max"===e.substr(0,3)&&(e=u+("="===e.charAt(4)?_offsetToPx("0"+e.substr(3),t):0));var p,d,f,h=g?g.time():0;if(g&&g.seek(0),_isNumber(e))s&&_positionMarker(s,t,n,!0);else{_isFunction(r)&&(r=r(a));var m,v,S,y,b=(e||"0").split(" ");f=_getTarget(r)||_body,(m=_getBounds(f)||{})&&(m.left||m.top)||"none"!==_getComputedStyle(f).display||(y=f.style.display,f.style.display="block",m=_getBounds(f),y?f.style.display=y:f.style.removeProperty("display")),v=_offsetToPx(b[0],m[n.d]),S=_offsetToPx(b[1]||"0",t),e=m[n.p]-l[n.p]-_+v+i-S,s&&_positionMarker(s,S,n,t-S<20||s._isStart&&S>20),t-=t-S}if(o){var w=e+t,x=o._isStart;p="scroll"+n.d2,_positionMarker(o,w,n,x&&w>20||!x&&(c?Math.max(_body[p],_docEl[p]):o.parentNode[p])<=w+1),c&&(l=_getBounds(s),c&&(o.style[n.op.p]=l[n.op.p]-n.op.m-o._offset+_px))}return g&&f&&(p=_getBounds(f),g.seek(u),d=_getBounds(f),g._caScrollDist=p[n.p]-d[n.p],e=e/g._caScrollDist*u),g&&g.seek(h),g?e:Math.round(e)},_prefixExp=/(webkit|moz|length|cssText|inset)/i,_reparent=function(e,r,t,n){if(e.parentNode!==r){var i,o,s=e.style;if(r===_body){for(i in e._stOrig=s.cssText,o=_getComputedStyle(e))+i||_prefixExp.test(i)||!o[i]||"string"!=typeof s[i]||"0"===i||(s[i]=o[i]);s.top=t,s.left=n}else s.cssText=e._stOrig;gsap.core.getCache(e).uncache=1,r.appendChild(e)}},_getTweenCreator=function(e,r){var t,n,i=_getScrollFunc(e,r),o="_scroll"+r.p2,s=function r(s,a,l,_,c){var u=r.tween,g=a.onComplete,p={};return l=l||i(),c=_&&c||0,_=_||s-l,u&&u.kill(),t=Math.round(l),a[o]=s,a.modifiers=p,p[o]=function(e){return(e=Math.round(i()))!==t&&e!==n&&Math.abs(e-t)>3&&Math.abs(e-n)>3?(u.kill(),r.tween=0):e=l+_*u.ratio+c*u.ratio*u.ratio,n=t,t=Math.round(e)},a.onComplete=function(){r.tween=0,g&&g.call(u)},u=r.tween=gsap.to(e,a)};return e[o]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},_addListener(e,"wheel",i.wheelHandler),s};export var ScrollTrigger=function(){function e(r,t){_coreInitted||e.register(gsap)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),this.init(r,t)}return e.prototype.init=function(r,t){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),_enabled){var n,i,o,s,a,l,_,c,u,g,p,d,f,h,m,v,S,y,b,w,x,T,A,P,k,I,R,O,L,z,E,C,D,F,M,B,N,H,W=r=_setDefaults(_isString(r)||_isNumber(r)||r.nodeType?{trigger:r}:r,_defaults),V=W.onUpdate,q=W.toggleClass,j=W.id,Y=W.onToggle,U=W.onRefresh,G=W.scrub,X=W.trigger,K=W.pin,Z=W.pinSpacing,J=W.invalidateOnRefresh,Q=W.anticipatePin,ee=W.onScrubComplete,re=W.onSnapComplete,te=W.once,ne=W.snap,ie=W.pinReparent,oe=W.pinSpacer,se=W.containerAnimation,ae=W.fastScrollEnd,le=W.preventOverlaps,_e=r.horizontal||r.containerAnimation&&!1!==r.horizontal?_horizontal:_vertical,ce=!G&&0!==G,ue=_getTarget(r.scroller||_win),ge=gsap.core.getCache(ue),pe=_isViewport(ue),de="fixed"===("pinType"in r?r.pinType:_getProxyProp(ue,"pinType")||pe&&"fixed"),fe=[r.onEnter,r.onLeave,r.onEnterBack,r.onLeaveBack],he=ce&&r.toggleActions.split(" "),me="markers"in r?r.markers:_defaults.markers,ve=pe?0:parseFloat(_getComputedStyle(ue)["border"+_e.p2+_Width])||0,Se=this,ye=r.onRefreshInit&&function(){return r.onRefreshInit(Se)},be=_getSizeFunc(ue,pe,_e),we=_getOffsetsFunc(ue,pe),xe=0,Te=0,Ae=_getScrollFunc(ue,_e);if(_context(Se),Se._dir=_e,Q*=45,Se.scroller=ue,Se.scroll=se?se.time.bind(se):Ae,s=Ae(),Se.vars=r,t=t||r.animation,"refreshPriority"in r&&(_sort=1,-9999===r.refreshPriority&&(_primary=Se)),ge.tweenScroll=ge.tweenScroll||{top:_getTweenCreator(ue,_vertical),left:_getTweenCreator(ue,_horizontal)},Se.tweenTo=n=ge.tweenScroll[_e.p],Se.scrubDuration=function(e){(E=_isNumber(e)&&e)?z?z.duration(e):z=gsap.to(t,{ease:"expo",totalProgress:"+=0.001",duration:E,paused:!0,onComplete:function(){return ee&&ee(Se)}}):(z&&z.progress(1).kill(),z=0)},t&&(t.vars.lazy=!1,t._initted||!1!==t.vars.immediateRender&&!1!==r.immediateRender&&t.duration()&&t.render(0,!0,!0),Se.animation=t.pause(),t.scrollTrigger=Se,Se.scrubDuration(G),O=0,j||(j=t.vars.id)),_triggers.push(Se),ne&&(_isObject(ne)&&!ne.push||(ne={snapTo:ne}),"scrollBehavior"in _body.style&&gsap.set(pe?[_body,_docEl]:ue,{scrollBehavior:"auto"}),_scrollers.forEach((function(e){return _isFunction(e)&&e.target===(pe?_doc.scrollingElement||_docEl:ue)&&(e.smooth=!1)})),o=_isFunction(ne.snapTo)?ne.snapTo:"labels"===ne.snapTo?_getClosestLabel(t):"labelsDirectional"===ne.snapTo?_getLabelAtDirection(t):!1!==ne.directional?function(e,r){return _snapDirectional(ne.snapTo)(e,_getTime()-Te<500?0:r.direction)}:gsap.utils.snap(ne.snapTo),C=ne.duration||{min:.1,max:2},C=_isObject(C)?_clamp(C.min,C.max):_clamp(C,C),D=gsap.delayedCall(ne.delay||E/2||.1,(function(){var e=Ae(),r=_getTime()-Te<500,i=n.tween;if(!(r||Math.abs(Se.getVelocity())<10)||i||_pointerIsDown||xe===e)Se.isActive&&xe!==e&&D.restart(!0);else{var s=(e-l)/f,a=t&&!ce?t.totalProgress():s,c=r?0:(a-L)/(_getTime()-_time2)*1e3||0,u=gsap.utils.clamp(-s,1-s,_abs(c/2)*c/.185),g=s+(!1===ne.inertia?0:u),p=_clamp(0,1,o(g,Se)),d=Math.round(l+p*f),h=ne,m=h.onStart,v=h.onInterrupt,S=h.onComplete;if(e<=_&&e>=l&&d!==e){if(i&&!i._initted&&i.data<=_abs(d-e))return;!1===ne.inertia&&(u=p-s),n(d,{duration:C(_abs(.185*Math.max(_abs(g-a),_abs(p-a))/c/.05||0)),ease:ne.ease||"power3",data:_abs(d-e),onInterrupt:function(){return D.restart(!0)&&v&&v(Se)},onComplete:function(){Se.update(),xe=Ae(),O=L=t&&!ce?t.totalProgress():Se.progress,re&&re(Se),S&&S(Se)}},e,u*f,d-e-u*f),m&&m(Se,n.tween)}}})).pause()),j&&(_ids[j]=Se),(H=(X=Se.trigger=_getTarget(X||K))&&X._gsap&&X._gsap.stRevert)&&(H=H(Se)),K=!0===K?X:_getTarget(K),_isString(q)&&(q={targets:X,className:q}),K&&(!1===Z||Z===_margin||(Z=!(!Z&&K.parentNode&&K.parentNode.style&&"flex"===_getComputedStyle(K.parentNode).display)&&_padding),Se.pin=K,(i=gsap.core.getCache(K)).spacer?h=i.pinState:(oe&&((oe=_getTarget(oe))&&!oe.nodeType&&(oe=oe.current||oe.nativeElement),i.spacerIsNative=!!oe,oe&&(i.spacerState=_getState(oe))),i.spacer=S=oe||_doc.createElement("div"),S.classList.add("pin-spacer"),j&&S.classList.add("pin-spacer-"+j),i.pinState=h=_getState(K)),!1!==r.force3D&&gsap.set(K,{force3D:!0}),Se.spacer=S=i.spacer,R=_getComputedStyle(K),A=R[Z+_e.os2],b=gsap.getProperty(K),w=gsap.quickSetter(K,_e.a,_px),_swapPinIn(K,S,R),v=_getState(K)),me){d=_isObject(me)?_setDefaults(me,_markerDefaults):_markerDefaults,g=_createMarker("scroller-start",j,ue,_e,d,0),p=_createMarker("scroller-end",j,ue,_e,d,0,g),y=g["offset"+_e.op.d2];var Pe=_getTarget(_getProxyProp(ue,"content")||ue);c=this.markerStart=_createMarker("start",j,Pe,_e,d,y,0,se),u=this.markerEnd=_createMarker("end",j,Pe,_e,d,y,0,se),se&&(N=gsap.quickSetter([c,u],_e.a,_px)),de||_proxies.length&&!0===_getProxyProp(ue,"fixedMarkers")||(_makePositionable(pe?_body:ue),gsap.set([g,p],{force3D:!0}),k=gsap.quickSetter(g,_e.a,_px),I=gsap.quickSetter(p,_e.a,_px))}if(se){var ke=se.vars.onUpdate,Ie=se.vars.onUpdateParams;se.eventCallback("onUpdate",(function(){Se.update(0,0,1),ke&&ke.apply(Ie||[])}))}Se.previous=function(){return _triggers[_triggers.indexOf(Se)-1]},Se.next=function(){return _triggers[_triggers.indexOf(Se)+1]},Se.revert=function(e,r){if(!r)return Se.kill(!0);var n=!1!==e||!Se.enabled,i=_refreshing;n!==Se.isReverted&&(n&&(M=Math.max(Ae(),Se.scroll.rec||0),F=Se.progress,B=t&&t.progress()),c&&[c,u,g,p].forEach((function(e){return e.style.display=n?"none":"block"})),n&&(_refreshing=1,Se.update(n)),K&&(n?_swapPinOut(K,S,h):(!ie||!Se.isActive)&&_swapPinIn(K,S,_getComputedStyle(K),P)),n||Se.update(n),_refreshing=i,Se.isReverted=n)},Se.refresh=function(i,o){if(!_refreshing&&Se.enabled||o)if(K&&i&&_lastScrollTime)_addListener(e,"scrollEnd",_softRefresh);else{!_refreshingAll&&ye&&ye(Se),_refreshing=1,Te=_getTime(),n.tween&&(n.tween.kill(),n.tween=0),z&&z.pause(),J&&t&&t.revert({kill:!1}).invalidate(),Se.isReverted||Se.revert(!0,!0),Se._subPinOffset=!1;for(var d,y,w,A,k,I,R,O,L,E,C=be(),N=we(),H=se?se.duration():_maxScroll(ue,_e),W=0,V=0,q=r.end,j=r.endTrigger||X,Y=r.start||(0!==r.start&&X?K?"0 0":"0 100%":0),G=Se.pinnedContainer=r.pinnedContainer&&_getTarget(r.pinnedContainer),Q=X&&Math.max(0,_triggers.indexOf(Se))||0,ee=Q;ee--;)(I=_triggers[ee]).end||I.refresh(0,1)||(_refreshing=1),!(R=I.pin)||R!==X&&R!==K||I.isReverted||(E||(E=[]),E.unshift(I),I.revert(!0,!0)),I!==_triggers[ee]&&(Q--,ee--);for(_isFunction(Y)&&(Y=Y(Se)),l=_parsePosition(Y,X,C,_e,Ae(),c,g,Se,N,ve,de,H,se)||(K?-.001:0),_isFunction(q)&&(q=q(Se)),_isString(q)&&!q.indexOf("+=")&&(~q.indexOf(" ")?q=(_isString(Y)?Y.split(" ")[0]:"")+q:(W=_offsetToPx(q.substr(2),C),q=_isString(Y)?Y:l+W,j=X)),_=Math.max(l,_parsePosition(q||(j?"100% 0":H),j,C,_e,Ae()+W,u,p,Se,N,ve,de,H,se))||-.001,f=_-l||(l-=.01)&&.001,W=0,ee=Q;ee--;)(R=(I=_triggers[ee]).pin)&&I.start-I._pinPush<=l&&!se&&I.end>0&&(d=I.end-I.start,(R===X&&I.start-I._pinPush<l||R===G)&&!_isNumber(Y)&&(W+=d*(1-I.progress)),R===K&&(V+=d));if(l+=W,_+=W,Se._pinPush=V,c&&W&&((d={})[_e.a]="+="+W,G&&(d[_e.p]="-="+Ae()),gsap.set([c,u],d)),K)d=_getComputedStyle(K),A=_e===_vertical,w=Ae(),x=parseFloat(b(_e.a))+V,!H&&_>1&&((pe?_body:ue).style["overflow-"+_e.a]="scroll"),_swapPinIn(K,S,d),v=_getState(K),y=_getBounds(K,!0),O=de&&_getScrollFunc(ue,A?_horizontal:_vertical)(),Z&&((P=[Z+_e.os2,f+V+_px]).t=S,(ee=Z===_padding?_getSize(K,_e)+f+V:0)&&P.push(_e.d,ee+_px),_setState(P),G&&_triggers.forEach((function(e){e.pin===G&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)})),de&&Ae(M)),de&&((k={top:y.top+(A?w-l:O)+_px,left:y.left+(A?O:w-l)+_px,boxSizing:"border-box",position:"fixed"})[_width]=k["max"+_Width]=Math.ceil(y.width)+_px,k[_height]=k["max"+_Height]=Math.ceil(y.height)+_px,k[_margin]=k[_margin+_Top]=k[_margin+_Right]=k[_margin+_Bottom]=k[_margin+_Left]="0",k[_padding]=d[_padding],k[_padding+_Top]=d[_padding+_Top],k[_padding+_Right]=d[_padding+_Right],k[_padding+_Bottom]=d[_padding+_Bottom],k[_padding+_Left]=d[_padding+_Left],m=_copyState(h,k,ie),_refreshingAll&&Ae(0)),t?(L=t._initted,_suppressOverwrites(1),t.render(t.duration(),!0,!0),T=b(_e.a)-x+f+V,f!==T&&de&&m.splice(m.length-2,2),t.render(0,!0,!0),L||t.invalidate(!0),t.parent||t.totalTime(t.totalTime()),_suppressOverwrites(0)):T=f;else if(X&&Ae()&&!se)for(y=X.parentNode;y&&y!==_body;)y._pinOffset&&(l-=y._pinOffset,_-=y._pinOffset),y=y.parentNode;E&&E.forEach((function(e){return e.revert(!1,!0)})),Se.start=l,Se.end=_,s=a=_refreshingAll?M:Ae(),se||_refreshingAll||(s<M&&Ae(M),Se.scroll.rec=0),Se.revert(!1,!0),D&&(xe=-1,Se.isActive&&Ae(l+f*F),D.restart(!0)),_refreshing=0,t&&ce&&(t._initted||B)&&t.progress()!==B&&t.progress(B,!0).render(t.time(),!0,!0),(F!==Se.progress||se)&&(t&&!ce&&t.totalProgress(F,!0),Se.progress=(s-l)/f===F?0:F),K&&Z&&(S._pinOffset=Math.round(Se.progress*T)),U&&!_refreshingAll&&U(Se)}},Se.getVelocity=function(){return(Ae()-a)/(_getTime()-_time2)*1e3||0},Se.endAnimation=function(){_endAnimation(Se.callbackAnimation),t&&(z?z.progress(1):t.paused()?ce||_endAnimation(t,Se.direction<0,1):_endAnimation(t,t.reversed()))},Se.labelToScroll=function(e){return t&&t.labels&&(l||Se.refresh()||l)+t.labels[e]/t.duration()*f||0},Se.getTrailing=function(e){var r=_triggers.indexOf(Se),t=Se.direction>0?_triggers.slice(0,r).reverse():_triggers.slice(r+1);return(_isString(e)?t.filter((function(r){return r.vars.preventOverlaps===e})):t).filter((function(e){return Se.direction>0?e.end<=l:e.start>=_}))},Se.update=function(e,r,i){if(!se||i||e){var o,c,u,p,d,h,y,b=_refreshingAll?M:Se.scroll(),P=e?0:(b-l)/f,R=P<0?0:P>1?1:P||0,E=Se.progress;if(r&&(a=s,s=se?Ae():b,ne&&(L=O,O=t&&!ce?t.totalProgress():R)),Q&&!R&&K&&!_refreshing&&!_startup&&_lastScrollTime&&l<b+(b-a)/(_getTime()-_time2)*Q&&(R=1e-4),R!==E&&Se.enabled){if(p=(d=(o=Se.isActive=!!R&&R<1)!==(!!E&&E<1))||!!R!=!!E,Se.direction=R>E?1:-1,Se.progress=R,p&&!_refreshing&&(c=R&&!E?0:1===R?1:1===E?2:3,ce&&(u=!d&&"none"!==he[c+1]&&he[c+1]||he[c],y=t&&("complete"===u||"reset"===u||u in t))),le&&(d||y)&&(y||G||!t)&&(_isFunction(le)?le(Se):Se.getTrailing(le).forEach((function(e){return e.endAnimation()}))),ce||(!z||_refreshing||_startup?t&&t.totalProgress(R,!!_refreshing):((se||_primary&&_primary!==Se)&&z.render(z._dp._time-z._start),z.resetTo?z.resetTo("totalProgress",R,t._tTime/t._tDur):(z.vars.totalProgress=R,z.invalidate().restart()))),K)if(e&&Z&&(S.style[Z+_e.os2]=A),de){if(p){if(h=!e&&R>E&&_+1>b&&b+1>=_maxScroll(ue,_e),ie)if(e||!o&&!h)_reparent(K,S);else{var C=_getBounds(K,!0),F=b-l;_reparent(K,_body,C.top+(_e===_vertical?F:0)+_px,C.left+(_e===_vertical?0:F)+_px)}_setState(o||h?m:v),T!==f&&R<1&&o||w(x+(1!==R||h?0:T))}}else w(_round(x+T*R));ne&&!n.tween&&!_refreshing&&!_startup&&D.restart(!0),q&&(d||te&&R&&(R<1||!_limitCallbacks))&&_toArray(q.targets).forEach((function(e){return e.classList[o||te?"add":"remove"](q.className)})),V&&!ce&&!e&&V(Se),p&&!_refreshing?(ce&&(y&&("complete"===u?t.pause().totalProgress(1):"reset"===u?t.restart(!0).pause():"restart"===u?t.restart(!0):t[u]()),V&&V(Se)),!d&&_limitCallbacks||(Y&&d&&_callback(Se,Y),fe[c]&&_callback(Se,fe[c]),te&&(1===R?Se.kill(!1,1):fe[c]=0),d||fe[c=1===R?1:3]&&_callback(Se,fe[c])),ae&&!o&&Math.abs(Se.getVelocity())>(_isNumber(ae)?ae:2500)&&(_endAnimation(Se.callbackAnimation),z?z.progress(1):_endAnimation(t,"reverse"===u?1:!R,1))):ce&&V&&!_refreshing&&V(Se)}if(I){var B=se?b/se.duration()*(se._caScrollDist||0):b;k(B+(g._isFlipped?1:0)),I(B)}N&&N(-b/se.duration()*(se._caScrollDist||0))}},Se.enable=function(r,t){Se.enabled||(Se.enabled=!0,_addListener(ue,"resize",_onResize),_addListener(pe?_doc:ue,"scroll",_onScroll),ye&&_addListener(e,"refreshInit",ye),!1!==r&&(Se.progress=F=0,s=a=xe=Ae()),!1!==t&&Se.refresh())},Se.getTween=function(e){return e&&n?n.tween:z},Se.setPositions=function(e,r){K&&(x+=e-l,T+=r-e-f,Z===_padding&&Se.adjustPinSpacing(r-e-f)),Se.start=l=e,Se.end=_=r,f=r-e,Se.update()},Se.adjustPinSpacing=function(e){if(P){var r=P.indexOf(_e.d)+1;P[r]=parseFloat(P[r])+e+_px,P[1]=parseFloat(P[1])+e+_px,_setState(P)}},Se.disable=function(r,t){if(Se.enabled&&(!1!==r&&Se.revert(!0,!0),Se.enabled=Se.isActive=!1,t||z&&z.pause(),M=0,i&&(i.uncache=1),ye&&_removeListener(e,"refreshInit",ye),D&&(D.pause(),n.tween&&n.tween.kill()&&(n.tween=0)),!pe)){for(var o=_triggers.length;o--;)if(_triggers[o].scroller===ue&&_triggers[o]!==Se)return;_removeListener(ue,"resize",_onResize),_removeListener(ue,"scroll",_onScroll)}},Se.kill=function(e,n){Se.disable(e,n),z&&!n&&z.kill(),j&&delete _ids[j];var o=_triggers.indexOf(Se);o>=0&&_triggers.splice(o,1),o===_i&&_direction>0&&_i--,o=0,_triggers.forEach((function(e){return e.scroller===Se.scroller&&(o=1)})),o||_refreshingAll||(Se.scroll.rec=0),t&&(t.scrollTrigger=null,e&&t.revert({kill:!1}),n||t.kill()),c&&[c,u,g,p].forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),_primary===Se&&(_primary=0),K&&(i&&(i.uncache=1),o=0,_triggers.forEach((function(e){return e.pin===K&&o++})),o||(i.spacer=0)),r.onKill&&r.onKill(Se)},Se.enable(!1,!1),H&&H(Se),t&&t.add&&!f?gsap.delayedCall(.01,(function(){return l||_||Se.refresh()}))&&(f=.01)&&(l=_=0):Se.refresh(),K&&_queueRefreshAll()}else this.update=this.refresh=this.kill=_passThrough},e.register=function(r){return _coreInitted||(gsap=r||_getGSAP(),_windowExists()&&window.document&&e.enable(),_coreInitted=_enabled),_coreInitted},e.defaults=function(e){if(e)for(var r in e)_defaults[r]=e[r];return _defaults},e.disable=function(e,r){_enabled=0,_triggers.forEach((function(t){return t[r?"kill":"disable"](e)})),_removeListener(_win,"wheel",_onScroll),_removeListener(_doc,"scroll",_onScroll),clearInterval(_syncInterval),_removeListener(_doc,"touchcancel",_passThrough),_removeListener(_body,"touchstart",_passThrough),_multiListener(_removeListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_removeListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_resizeDelay.kill(),_iterateAutoRefresh(_removeListener);for(var t=0;t<_scrollers.length;t+=3)_wheelListener(_removeListener,_scrollers[t],_scrollers[t+1]),_wheelListener(_removeListener,_scrollers[t],_scrollers[t+2])},e.enable=function(){if(_win=window,_doc=document,_docEl=_doc.documentElement,_body=_doc.body,gsap&&(_toArray=gsap.utils.toArray,_clamp=gsap.utils.clamp,_context=gsap.core.context||_passThrough,_suppressOverwrites=gsap.core.suppressOverwrites||_passThrough,_scrollRestoration=_win.history.scrollRestoration||"auto",gsap.core.globals("ScrollTrigger",e),_body)){_enabled=1,Observer.register(gsap),e.isTouch=Observer.isTouch,_fixIOSBug=Observer.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_addListener(_win,"wheel",_onScroll),_root=[_win,_doc,_docEl,_body],gsap.matchMedia?(e.matchMedia=function(e){var r,t=gsap.matchMedia();for(r in e)t.add(r,e[r]);return t},gsap.addEventListener("matchMediaInit",(function(){return _revertAll()})),gsap.addEventListener("matchMediaRevert",(function(){return _revertRecorded()})),gsap.addEventListener("matchMedia",(function(){_refreshAll(0,1),_dispatch("matchMedia")})),gsap.matchMedia("(orientation: portrait)",(function(){return _setBaseDimensions(),_setBaseDimensions}))):console.warn("Requires GSAP 3.11.0 or later"),_setBaseDimensions(),_addListener(_doc,"scroll",_onScroll);var r,t,n=_body.style,i=n.borderTopStyle,o=gsap.core.Animation.prototype;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),n.borderTopStyle="solid",r=_getBounds(_body),_vertical.m=Math.round(r.top+_vertical.sc())||0,_horizontal.m=Math.round(r.left+_horizontal.sc())||0,i?n.borderTopStyle=i:n.removeProperty("border-top-style"),_syncInterval=setInterval(_sync,250),gsap.delayedCall(.5,(function(){return _startup=0})),_addListener(_doc,"touchcancel",_passThrough),_addListener(_body,"touchstart",_passThrough),_multiListener(_addListener,_doc,"pointerdown,touchstart,mousedown",_pointerDownHandler),_multiListener(_addListener,_doc,"pointerup,touchend,mouseup",_pointerUpHandler),_transformProp=gsap.utils.checkPrefix("transform"),_stateProps.push(_transformProp),_coreInitted=_getTime(),_resizeDelay=gsap.delayedCall(.2,_refreshAll).pause(),_autoRefresh=[_doc,"visibilitychange",function(){var e=_win.innerWidth,r=_win.innerHeight;_doc.hidden?(_prevWidth=e,_prevHeight=r):_prevWidth===e&&_prevHeight===r||_onResize()},_doc,"DOMContentLoaded",_refreshAll,_win,"load",_refreshAll,_win,"resize",_onResize],_iterateAutoRefresh(_addListener),_triggers.forEach((function(e){return e.enable(0,1)})),t=0;t<_scrollers.length;t+=3)_wheelListener(_removeListener,_scrollers[t],_scrollers[t+1]),_wheelListener(_removeListener,_scrollers[t],_scrollers[t+2])}},e.config=function(r){"limitCallbacks"in r&&(_limitCallbacks=!!r.limitCallbacks);var t=r.syncInterval;t&&clearInterval(_syncInterval)||(_syncInterval=t)&&setInterval(_sync,t),"ignoreMobileResize"in r&&(_ignoreMobileResize=1===e.isTouch&&r.ignoreMobileResize),"autoRefreshEvents"in r&&(_iterateAutoRefresh(_removeListener)||_iterateAutoRefresh(_addListener,r.autoRefreshEvents||"none"),_ignoreResize=-1===(r.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,r){var t=_getTarget(e),n=_scrollers.indexOf(t),i=_isViewport(t);~n&&_scrollers.splice(n,i?6:2),r&&(i?_proxies.unshift(_win,r,_body,r,_docEl,r):_proxies.unshift(t,r))},e.clearMatchMedia=function(e){_triggers.forEach((function(r){return r._ctx&&r._ctx.query===e&&r._ctx.kill(!0,!0)}))},e.isInViewport=function(e,r,t){var n=(_isString(e)?_getTarget(e):e).getBoundingClientRect(),i=n[t?_width:_height]*r||0;return t?n.right-i>0&&n.left+i<_win.innerWidth:n.bottom-i>0&&n.top+i<_win.innerHeight},e.positionInViewport=function(e,r,t){_isString(e)&&(e=_getTarget(e));var n=e.getBoundingClientRect(),i=n[t?_width:_height],o=null==r?i/2:r in _keywords?_keywords[r]*i:~r.indexOf("%")?parseFloat(r)*i/100:parseFloat(r)||0;return t?(n.left+o)/_win.innerWidth:(n.top+o)/_win.innerHeight},e.killAll=function(e){if(_triggers.forEach((function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()})),!0!==e){var r=_listeners.killAll||[];_listeners={},r.forEach((function(e){return e()}))}},e}();ScrollTrigger.version="3.11.3",ScrollTrigger.saveStyles=function(e){return e?_toArray(e).forEach((function(e){if(e&&e.style){var r=_savedStyles.indexOf(e);r>=0&&_savedStyles.splice(r,5),_savedStyles.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),gsap.core.getCache(e),_context())}})):_savedStyles},ScrollTrigger.revert=function(e,r){return _revertAll(!e,r)},
ScrollTrigger.create=function(e,r){return new ScrollTrigger(e,r)},ScrollTrigger.refresh=function(e){return e?_onResize():(_coreInitted||ScrollTrigger.register())&&_refreshAll(!0)},ScrollTrigger.update=_updateAll,ScrollTrigger.clearScrollMemory=_clearScrollMemory,ScrollTrigger.maxScroll=function(e,r){return _maxScroll(e,r?_horizontal:_vertical)},ScrollTrigger.getScrollFunc=function(e,r){return _getScrollFunc(_getTarget(e),r?_horizontal:_vertical)},ScrollTrigger.getById=function(e){return _ids[e]},ScrollTrigger.getAll=function(){return _triggers.filter((function(e){return"ScrollSmoother"!==e.vars.id}))},ScrollTrigger.isScrolling=function(){return!!_lastScrollTime},ScrollTrigger.snapDirectional=_snapDirectional,ScrollTrigger.addEventListener=function(e,r){var t=_listeners[e]||(_listeners[e]=[]);~t.indexOf(r)||t.push(r)},ScrollTrigger.removeEventListener=function(e,r){var t=_listeners[e],n=t&&t.indexOf(r);n>=0&&t.splice(n,1)},ScrollTrigger.batch=function(e,r){var t,n=[],i={},o=r.interval||.016,s=r.batchMax||1e9,a=function(e,r){var t=[],n=[],i=gsap.delayedCall(o,(function(){r(t,n),t=[],n=[]})).pause();return function(e){t.length||i.restart(!0),t.push(e.trigger),n.push(e),s<=t.length&&i.progress(1)}};for(t in r)i[t]="on"===t.substr(0,2)&&_isFunction(r[t])&&"onRefreshInit"!==t?a(0,r[t]):r[t];return _isFunction(s)&&(s=s(),_addListener(ScrollTrigger,"refresh",(function(){return s=r.batchMax()}))),_toArray(e).forEach((function(e){var r={};for(t in i)r[t]=i[t];r.trigger=e,n.push(ScrollTrigger.create(r))})),n};var _inputIsFocused,_clampScrollAndGetDurationMultiplier=function(e,r,t,n){return r>n?e(n):r<0&&e(0),t>n?(n-r)/(t-r):t<0?r/(r-t):1},_allowNativePanning=function e(r,t){!0===t?r.style.removeProperty("touch-action"):r.style.touchAction=!0===t?"auto":t?"pan-"+t+(Observer.isTouch?" pinch-zoom":""):"none",r===_docEl&&e(_body,t)},_overflow={auto:1,scroll:1},_nestedScroll=function(e){var r,t=e.event,n=e.target,i=e.axis,o=(t.changedTouches?t.changedTouches[0]:t).target,s=o._gsap||gsap.core.getCache(o),a=_getTime();if(!s._isScrollT||a-s._isScrollT>2e3){for(;o&&o.scrollHeight<=o.clientHeight;)o=o.parentNode;s._isScroll=o&&!_isViewport(o)&&o!==n&&(_overflow[(r=_getComputedStyle(o)).overflowY]||_overflow[r.overflowX]),s._isScrollT=a}(s._isScroll||"x"===i)&&(t.stopPropagation(),t._gsapAllow=!0)},_inputObserver=function(e,r,t,n){return Observer.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:r,onWheel:n=n&&_nestedScroll,onPress:n,onDrag:n,onScroll:n,onEnable:function(){return t&&_addListener(_doc,Observer.eventTypes[0],_captureInputs,!1,!0)},onDisable:function(){return _removeListener(_doc,Observer.eventTypes[0],_captureInputs,!0)}})},_inputExp=/(input|label|select|textarea)/i,_captureInputs=function(e){var r=_inputExp.test(e.target.tagName);(r||_inputIsFocused)&&(e._gsapAllow=!0,_inputIsFocused=r)},_getScrollNormalizer=function(e){_isObject(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var r,t,n,i,o,s,a,l,_=e,c=_.normalizeScrollX,u=_.momentum,g=_.allowNestedScroll,p=_getTarget(e.target)||_docEl,d=gsap.core.globals().ScrollSmoother,f=d&&d.get(),h=_fixIOSBug&&(e.content&&_getTarget(e.content)||f&&!1!==e.content&&!f.smooth()&&f.content()),m=_getScrollFunc(p,_vertical),v=_getScrollFunc(p,_horizontal),S=1,y=(Observer.isTouch&&_win.visualViewport?_win.visualViewport.scale*_win.visualViewport.width:_win.outerWidth)/_win.innerWidth,b=0,w=_isFunction(u)?function(){return u(r)}:function(){return u||2.8},x=_inputObserver(p,e.type,!0,g),T=function(){return i=!1},A=_passThrough,P=_passThrough,k=function(){t=_maxScroll(p,_vertical),P=_clamp(_fixIOSBug?1:0,t),c&&(A=_clamp(0,_maxScroll(p,_horizontal))),n=_refreshID},I=function(){h._gsap.y=_round(parseFloat(h._gsap.y)+m.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",m.offset=m.cacheID=0},R=function(){k(),o.isActive()&&o.vars.scrollY>t&&(m()>t?o.progress(1)&&m(t):o.resetTo("scrollY",t))};return h&&gsap.set(h,{y:"+=0"}),e.ignoreCheck=function(e){return _fixIOSBug&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(T);var e=_round(r.deltaY/2),t=P(m.v-e);if(h&&t!==m.v+m.offset){m.offset=t-m.v;var n=_round((parseFloat(h&&h._gsap.y)||0)-m.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+n+", 0, 1)",h._gsap.y=n+"px",m.cacheID=_scrollers.cache,_updateAll()}return!0}m.offset&&I(),i=!0}()||S>1.05&&"touchstart"!==e.type||r.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){var e=S;S=_round((_win.visualViewport&&_win.visualViewport.scale||1)/y),o.pause(),e!==S&&_allowNativePanning(p,S>1.01||!c&&"x"),s=v(),a=m(),k(),n=_refreshID},e.onRelease=e.onGestureStart=function(e,r){if(m.offset&&I(),r){_scrollers.cache++;var n,i,s=w();c&&(i=(n=v())+.05*s*-e.velocityX/.227,s*=_clampScrollAndGetDurationMultiplier(v,n,i,_maxScroll(p,_horizontal)),o.vars.scrollX=A(i)),i=(n=m())+.05*s*-e.velocityY/.227,s*=_clampScrollAndGetDurationMultiplier(m,n,i,_maxScroll(p,_vertical)),o.vars.scrollY=P(i),o.invalidate().duration(s).play(.01),(_fixIOSBug&&o.vars.scrollY>=t||n>=t-1)&&gsap.to({},{onUpdate:R,duration:s})}else l.restart(!0)},e.onWheel=function(){o._ts&&o.pause(),_getTime()-b>1e3&&(n=0,b=_getTime())},e.onChange=function(e,r,t,i,o){if(_refreshID!==n&&k(),r&&c&&v(A(i[2]===r?s+(e.startX-e.x):v()+r-i[1])),t){m.offset&&I();var l=o[2]===t,_=l?a+e.startY-e.y:m()+t-o[1],u=P(_);l&&_!==u&&(a+=u-_),m(u)}(t||r)&&_updateAll()},e.onEnable=function(){_allowNativePanning(p,!c&&"x"),ScrollTrigger.addEventListener("refresh",R),_addListener(_win,"resize",R),m.smooth&&(m.target.style.scrollBehavior="auto",m.smooth=v.smooth=!1),x.enable()},e.onDisable=function(){_allowNativePanning(p,!0),_removeListener(_win,"resize",R),ScrollTrigger.removeEventListener("refresh",R),x.kill()},e.lockAxis=!1!==e.lockAxis,(r=new Observer(e)).iOS=_fixIOSBug,_fixIOSBug&&!m()&&m(1),_fixIOSBug&&gsap.ticker.add(_passThrough),l=r._dc,o=gsap.to(r,{ease:"power4",paused:!0,scrollX:c?"+=0.1":"+=0",scrollY:"+=0.1",onComplete:l.vars.onComplete}),r};ScrollTrigger.sort=function(e){return _triggers.sort(e||function(e,r){return-1e6*(e.vars.refreshPriority||0)+e.start-(r.start+-1e6*(r.vars.refreshPriority||0))})},ScrollTrigger.observe=function(e){return new Observer(e)},ScrollTrigger.normalizeScroll=function(e){if(void 0===e)return _normalizer;if(!0===e&&_normalizer)return _normalizer.enable();if(!1===e)return _normalizer&&_normalizer.kill();var r=e instanceof Observer?e:_getScrollNormalizer(e);return _normalizer&&_normalizer.target===r.target&&_normalizer.kill(),_isViewport(r.target)&&(_normalizer=r),r},ScrollTrigger.core={_getVelocityProp:_getVelocityProp,_inputObserver:_inputObserver,_scrollers:_scrollers,_proxies:_proxies,bridge:{ss:function(){_lastScrollTime||_dispatch("scrollStart"),_lastScrollTime=_getTime()},ref:function(){return _refreshing}}},_getGSAP()&&gsap.registerPlugin(ScrollTrigger);export{ScrollTrigger as default};